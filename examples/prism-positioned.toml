# Example prism.toml with positioning capabilities
# Demonstrates integration of pkg/panel positioning into cmd/shinectl

# ============================================================
# Top-Right Clock Widget
# ============================================================
[[prism]]
name = "shine-clock"

# Positioning: anchor to top-right corner
origin = "top-right"
position = "10,50"  # 10px from right edge, 50px from top

# Size: 200x100 pixels
width = "200px"
height = "100px"

# Behavior
hide_on_focus_loss = false
focus_policy = "not-allowed"  # Clock doesn't need focus
output_name = "DP-2"

# Restart policy: restart on crashes
restart = "on-failure"
restart_delay = "3s"
max_restarts = 5

# ============================================================
# Centered Chat Panel
# ============================================================
[[prism]]
name = "shine-chat"

# Positioning: center of screen
origin = "center"
# No position offset needed - perfectly centered

# Size: 800x600 pixels
width = "800px"
height = "600px"

# Behavior: hide when focus is lost (like a popup)
hide_on_focus_loss = true
focus_policy = "on-demand"  # Auto-enables with hide_on_focus_loss
output_name = "DP-2"

# Restart policy: always restart (critical component)
restart = "always"
restart_delay = "5s"
max_restarts = 10

# ============================================================
# Bottom Status Bar
# ============================================================
[[prism]]
name = "shine-bar"

# Positioning: bottom center, full width
origin = "bottom-center"
position = "0,0"  # No offset, flush with bottom

# Size: full monitor width, 40px tall
width = "1920px"
height = "40px"

# Behavior
hide_on_focus_loss = false
focus_policy = "not-allowed"
output_name = "DP-2"

# Restart policy: restart unless explicitly stopped
restart = "unless-stopped"
restart_delay = "2s"
max_restarts = 3

# ============================================================
# System Info Widget (Top-Left)
# ============================================================
[[prism]]
name = "shine-sysinfo"

# Positioning: top-left corner
origin = "top-left"
position = "50,50"  # 50px from left edge, 50px from top

# Size: columns/lines (not pixels)
width = 40    # 40 character columns
height = 10   # 10 text lines

# Behavior
hide_on_focus_loss = false
focus_policy = "not-allowed"
output_name = "DP-2"

# Restart policy: no automatic restart
restart = "no"

# ============================================================
# Notes Widget (Right-Center)
# ============================================================
[[prism]]
name = "shine-notes"

# Positioning: right edge, vertically centered
origin = "right-center"
position = "20,0"  # 20px from right edge, centered vertically

# Size
width = "400px"
height = "600px"

# Behavior: hide when focus is lost
hide_on_focus_loss = true
focus_policy = "on-demand"
output_name = "DP-2"

# Restart policy: restart on failure
restart = "on-failure"
restart_delay = "3s"
max_restarts = 5

# ============================================================
# Positioning Reference
# ============================================================

# Available Origins:
# - top-left, top-center, top-right
# - left-center, center, right-center
# - bottom-left, bottom-center, bottom-right
# - center-sized (auto-centers without margin calculations)

# Position Format:
# - "x,y" where x and y are pixel offsets from the origin
# - Positive values move away from screen edges
# - Example: origin=top-right, position="10,50"
#   â†’ 10px from right edge, 50px from top

# Size Format:
# - Integer: character columns/lines (e.g., width = 80)
# - String with "px": pixels (e.g., width = "1200px")

# Focus Policies:
# - "not-allowed": No keyboard focus (default for widgets)
# - "on-demand": Focus when clicked, auto-set with hide_on_focus_loss
# - "exclusive": Always grab focus

# Restart Policies:
# - "no": Never restart (default)
# - "on-failure": Restart only on non-zero exit
# - "unless-stopped": Restart unless explicitly stopped
# - "always": Always restart unconditionally

# Restart Parameters:
# - restart_delay: Duration to wait before restart (e.g., "5s", "500ms")
# - max_restarts: Maximum restarts per hour (0 = unlimited)
